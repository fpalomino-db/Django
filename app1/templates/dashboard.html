<!DOCTYPE html>
<html>
    <head>
        <title>Dashboard de mascotas</title>
    </head>
    <body>
        <h3>Registrar nueva mascota</h3>
        <div>
            <form method="POST" action="{% url 'app1:dashboard' %}">
                {% csrf_token %}
                <div>
                    <label>Nombre</label>
                    <input name="nombre_post" type="text" required>
                </div>
                <div>
                    <label>Edad</label>
                    <input name="edad_post" type="number" required>
                </div>
                <div>
                    <label>Tipo</label>
                    <select name="tipo_post">
                        {% for tipo in tipos %}
                        <option value="{{ tipo }}">{{ tipo }}</option>
                        {% endfor %}
                    </select>
                </div>
                <div>
                    <label>Estado</label>
                    <select name="estado_post">
                        <option value="Adoptado">Adoptado</option>
                        <option value="Disponible">Disponible</option>
                    </select>
                </div>
                <div>
                    <button type="submit">Registrar</button>
                </div>
            </form>
        </div>
        <br>
        <br>
        {% if mascotas %}
            <h3>Lista de mascotas</h3>
            <form method="GET">
                <label>Filtrar por tipo: </label>
                <select name="tipo">
                    <option value="">Todos</option>
                    {% for tipo in tipos %}
                    <option value="{{ tipo }}"  {% if filtro == tipo %}selected{% endif %}>{{ tipo }}</option>
                    {% endfor %}
                </select>
                <button type="submit">Filtrar</button>
            </form>
            <ol>
                {% for mascota in mascotas %}
                <li>
                    <strong>{{ mascota.nombre }}</strong> <br>
                    Edad : {{ mascota.edad }} <br>
                    Tipo : {{ mascota.tipo }} <br>
                    {% if mascota.estado == 'Disponible' %}
                        Estado : Disponible
                    {% else %}
                        Estado : Adoptado
                    {% endif %}
                    <br><br>
                </li>
                {% endfor %}
            </ol>
        {% endif %}
    </body>
</html>